{% extends "base.html" %}
{% block content %}
<h2>Đổi mật khẩu</h2>

<form onsubmit="changePassword(event)">
  <label>Mật khẩu cũ:</label><input type="password" id="oldPass"><br>
  <label>Mật khẩu mới:</label><input type="password" id="newPass"><br>
  <button type="submit">Đổi</button>
</form>

<script>
function changePassword(e) {
  e.preventDefault();
  fetch('http://127.0.0.1:5000/api/lecturer/change_password', {
    method: 'PUT',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      old_password: document.getElementById('oldPass').value,
      new_password: document.getElementById('newPass').value
    }),
    credentials: 'include'
  })
  .then(res => res.json())
  .then(data => alert(data.message || "Đổi mật khẩu thành công!"));
}
</script>
{% endblock %}
